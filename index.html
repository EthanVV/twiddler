<!DOCTYPE html>
<html>
  <head>
    <link href="style.css" type="text/css" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="scripts.js"></script>
    <script>
      function updateTweets() {
        var $tweetBlock = $('tweetBlock');
        $tweetBlock.html('');
        
        var index = streams.home.length - 1;
        while(index >= 0) {
          var tweet = streams.home[index];
          var $tweet = $(`<div class="tweet" id="tweet${index}">
            <div class="user" onclick="getHistory(${'tweet' + index})">@${tweet.user}</div>
            <div class="timeStamp">${getTimeStatement(tweet)}</div>
            <p class="message">${tweet.message}</p>
            </div>`);
          //$tweet.text(`${tweet.created_at} @${tweet.user}: ${tweet.message}`)
          $tweet.appendTo($tweetBlock);
          index --;
        }
      }

      function getHistory(id) {
        //var posts = streams.home.filter(tweet => tweet.user === id.find(user).text);


        $(id).after("is it working?");
      };

      // should be running when page is opened, IS NOT CURRENTLY
    </script>
    <title>Twiddler</title>
  </head>
  <body>
    <h1>Twiddler</h1>
    <button id="refresh" onclick="updateTweets()">Update</button>
    <div class="well" id="tweet-well">
      <tweetBlock>

      </tweetBlock>
    </div>
  </body>
</html>
